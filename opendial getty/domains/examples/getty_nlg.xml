<?xml version="1.0" encoding="UTF-8"?>
<domain>
	<!-- Natural language generation models. -->
	<model trigger="a_m">
		<rule id="Confirm Artist">
			<case>
				<condition>
					<if var="a_m" value="Confirm(NameOfArtist, {NoA})" />
				</condition>
				<effect util="1">
					<set var="u_m" value="I'm sorry, but you weren't very clear there. Were you asking about {NoA}?" />
				</effect>
			</case>
		</rule>
		<rule id="Confirm Title">
			<case>
				<condition>
					<if var="a_m" value="Confirm(TitleOfArtwork, {ToA})" />
				</condition>
				<effect util="1">
					<set var="u_m" value="I'm sorry, but you weren't very clear there. Were you asking about {ToA}?" />
				</effect>
			</case>
		</rule>
		
		<rule id="Ask Again Artist">
			<case>
				<condition>
					<if var="a_m" value="AskAgain" />
					<if var="current_step" value="NameOfArtist" />
				</condition>
				<effect util="1">
					<set var="u_m" value="All right, then can you clearly state which artist you're interested in?" />
				</effect>
			</case>
		</rule>
		<rule id="Ask Again Title">
			<case>
				<condition>
					<if var="a_m" value="AskAgain" />
					<if var="current_step" value="TitleOfArtwork" />
				</condition>
				<effect util="1">
					<set var="u_m" value="Sorry about that. Can you more clearly state which piece you're interested in?" />
				</effect>
			</case>
		</rule>
		
		<rule id="Culture AskRepeat">
			<case>
				<condition>
					<if var="a_m" value="AskRepeatCulture" />
				</condition>
				<effect util="1">
					<!-- This flag is specific to when ResolveCulture fails, which only happens when multiple cultures are input in one utterance -->
					<set var="u_m" value="Whoa there, slow down buddy. Let's do one culture at a time" />
				</effect>
			</case>
		</rule>
		<rule id="Artist AskRepeat">
			<case>
				<condition>
					<if var="a_m" value="AskRepeatArist" />
				</condition>
				<effect util="1">
					<!-- This flag is specific to when ResolveArtist fails, which only happens when multiple artists are input in one utterance -->
					<set var="u_m" value="You might've jumbled up your words a bit, so I couldn't quite catch with artist you wanted. Mind trying again?" />
				</effect>
			</case>
		</rule>
	</model>
	
	<model trigger="AskRepeat">
		<rule id="Basic AskRepeat">
			<case>
				<condition>
					<if var="AskRepeat" value="AskRepeat" />
					<if var="current_step" value="NameOfCulture" />
				</condition>
				<effect util="1">
					<set var="u_m" value="I'm not sure you stated a culture there. Or at least not one that's represented here. In case you're wondering, the cultures we have are: {CulturesPretty}." />
				</effect>
			</case>
			<case>
				<condition>
					<if var="AskRepeat" value="AskRepeat" />
				</condition>
				<effect util="1">
					<set var="u_m" value="I'm sorry, could you repeat that for me?" />
				</effect>
			</case>
		</rule>
	</model>
</domain>